<span style='color:#FF5733'>[ai_switcher]</span> 2024-08-03 12:21:54,238 - INFO - ai_switcher/main.py - Running main with assistant_type: medical
<span style='color:#FF5733'>[ai_switcher]</span> 2024-08-03 12:21:54,238 - INFO - ai_switcher/main.py - Creating assistant of type: medical
<span style='color:#33FF57'>[assistants]</span> 2024-08-03 12:21:54,238 - INFO - assistants/assistant_factory.py - Creating assistant with type: medical
<span style='color:#33FF57'>[assistants]</span> 2024-08-03 12:21:54,238 - INFO - assistants/assistant_factory.py - Creating MedicalAssistant
<span style='color:#3357FF'>[medical]</span> 2024-08-03 12:21:54,238 - INFO - medical/medical_assistant.py - Initializing MedicalAssistant with model: gpt-3.5-turbo, temperature: 1.000000, top_p: 1.000000
<span style='color:#33FF57'>[assistants]</span> 2024-08-03 12:21:54,238 - INFO - assistants/base_assistant.py - Initialized BaseAssistant with system_message: {'role': 'system', 'content': "You are a very polite medical assistant helping patients fill out forms in the proper format to find a clinical trial in the USA.\n\nRequirements\n\n- Always validate that the location exists. If it does not, s...
<span style='color:#3357FF'>[medical]</span> 2024-08-03 12:21:54,239 - INFO - medical/medical_assistant.py - MedicalAssistant initialized with initial_message: We need to sort through some questions to determine your eligibility for clinical trials. I will need age, condition, gender/sex, and location
<span style='color:#33FF57'>[assistants]</span> 2024-08-03 12:21:54,239 - INFO - assistants/assistant_factory.py - Creating assistant with type: lunch
<span style='color:#33FF57'>[assistants]</span> 2024-08-03 12:21:54,239 - INFO - assistants/assistant_factory.py - Creating LunchAssistant
<span style='color:#FF33A6'>[lunch]</span> 2024-08-03 12:21:54,239 - INFO - lunch/lunch_assistant.py - Initializing LunchAssistant
<span style='color:#FF33A6'>[lunch]</span> 2024-08-03 12:21:54,239 - INFO - lunch/lunch_assistant.py - LunchAssistant system_message: {'role': 'system', 'content': 'You are a friendly assistant helping users decide on what to have for lunch.\n\nRequirements:\n\n- Suggest a variety of cuisines.\n- Ask about dietary restrictions.\n- Provide healthy options.\n- Offer suggestions based on time of day....
<span style='color:#33FF57'>[assistants]</span> 2024-08-03 12:21:54,239 - INFO - assistants/base_assistant.py - Initialized BaseAssistant with system_message: {'role': 'system', 'content': 'You are a friendly assistant helping users decide on what to have for lunch.\n\nRequirements:\n\n- Suggest a variety of cuisines.\n- Ask about dietary restrictions.\n- Provide healthy options.\n- Offer suggesti...
<span style='color:#FFC733'>[router]</span> 2024-08-03 12:21:54,239 - INFO - router/conversation_router.py - Initial assistant: MedicalAssistant
<span style='color:#3357FF'>[medical]</span> 2024-08-03 12:21:54,239 - INFO - medical/medical_assistant.py - get_initial_message called
<span style='color:#3357FF'>[medical]</span> 2024-08-03 12:22:01,971 - INFO - medical/medical_assistant.py - respond called with user_input: 50 female breast cancer triple negative Los Angeles
<span style='color:#3357FF'>[medical]</span> 2024-08-03 12:22:01,971 - INFO - medical/medical_assistant.py - Action response: None
<span style='color:#33FF57'>[assistants]</span> 2024-08-03 12:22:01,971 - INFO - assistants/base_assistant.py - Updated conversation_history: [{'role': 'system', 'content': "You are a very polite medical assistant helping patients fill out forms in the proper format to find a clinical trial in the USA.\n\nRequirements\n\n- Always validate that the location exists. If it does not, suggest other loc...
<span style='color:#33FF57'>[assistants]</span> 2024-08-03 12:22:01,972 - INFO - assistants/base_assistant.py - Sending request to OpenAI API: {'model': 'gpt-3.5-turbo', 'messages': [{'role': 'system', 'content': "You are a very polite medical assistant helping patients fill out forms in the proper format to find a clinical trial in the USA.\n\nRequirements\n\n- Always validate that the location e...
<span style='color:#33FFF2'>[urllib3]</span> 2024-08-03 12:22:01,982 - DEBUG - urllib3/connectionpool.py - Starting new HTTPS connection (1): api.openai.com:443
<span style='color:#33FFF2'>[urllib3]</span> 2024-08-03 12:22:03,207 - DEBUG - urllib3/connectionpool.py - https://api.openai.com:443 "POST /v1/chat/completions HTTP/1.1" 200 None
<span style='color:#33FF57'>[assistants]</span> 2024-08-03 12:22:03,208 - INFO - assistants/base_assistant.py - Received response from OpenAI API: Assistant: Thank you for providing that information. Just to confirm:

- Age: 50
- Gender: Female
- Medical Condition: Triple Negative Breast Cancer
- Location: Los Angeles, CA
Does this look correct? (y/n)
<span style='color:#3357FF'>[medical]</span> 2024-08-03 12:22:03,210 - INFO - medical/medical_assistant.py - Validating Assistant Output
<span style='color:#3357FF'>[medical]</span> 2024-08-03 12:22:03,210 - INFO - medical/medical_assistant.py - Modified super response: Assistant: Thank you for providing that information. Just to confirm:

- Age: 50
- Gender: Female
- Medical Condition: Triple Negative Breast Cancer
- Location: Los Angeles, CA
Does this look correct? (y/n)
<span style='color:#FFC733'>[router]</span> 2024-08-03 12:22:03,210 - INFO - router/conversation_router.py - Response from MedicalAssistant: Assistant: Thank you for providing that information. Just to confirm:

- Age: 50
- Gender: Female
- Medical Condition: Triple Negative Breast Cancer
- Location: Los Angeles, CA
Does this look correct? (y/n)
<span style='color:#FFC733'>[router]</span> 2024-08-03 12:22:03,210 - INFO - router/conversation_router.py - Assistant response after routing: Assistant: Thank you for providing that information. Just to confirm:

- Age: 50
- Gender: Female
- Medical Condition: Triple Negative Breast Cancer
- Location: Los Angeles, CA
Does this look correct? (y/n)
<span style='color:#FF5733'>[ai_switcher]</span> 2024-08-03 12:22:03,210 - INFO - ai_switcher/main.py - User input: 50 female breast cancer triple negative Los Angeles
<span style='color:#FF5733'>[ai_switcher]</span> 2024-08-03 12:22:03,210 - INFO - ai_switcher/main.py - Assistant response: Assistant: Thank you for providing that information. Just to confirm:

- Age: 50
- Gender: Female
- Medical Condition: Triple Negative Breast Cancer
- Location: Los Angeles, CA
Does this look correct? (y/n)
<span style='color:#3357FF'>[medical]</span> 2024-08-03 12:22:04,152 - INFO - medical/medical_assistant.py - respond called with user_input: y
<span style='color:#3357FF'>[medical]</span> 2024-08-03 12:22:04,153 - INFO - medical/medical_assistant.py - Action response: None
<span style='color:#33FF57'>[assistants]</span> 2024-08-03 12:22:04,153 - INFO - assistants/base_assistant.py - Updated conversation_history: [{'role': 'system', 'content': "You are a very polite medical assistant helping patients fill out forms in the proper format to find a clinical trial in the USA.\n\nRequirements\n\n- Always validate that the location exists. If it does not, suggest other loc...
<span style='color:#33FF57'>[assistants]</span> 2024-08-03 12:22:04,153 - INFO - assistants/base_assistant.py - Sending request to OpenAI API: {'model': 'gpt-3.5-turbo', 'messages': [{'role': 'system', 'content': "You are a very polite medical assistant helping patients fill out forms in the proper format to find a clinical trial in the USA.\n\nRequirements\n\n- Always validate that the location e...
<span style='color:#33FFF2'>[urllib3]</span> 2024-08-03 12:22:04,155 - DEBUG - urllib3/connectionpool.py - Starting new HTTPS connection (1): api.openai.com:443
<span style='color:#33FFF2'>[urllib3]</span> 2024-08-03 12:22:05,358 - DEBUG - urllib3/connectionpool.py - https://api.openai.com:443 "POST /v1/chat/completions HTTP/1.1" 200 None
<span style='color:#33FF57'>[assistants]</span> 2024-08-03 12:22:05,359 - INFO - assistants/base_assistant.py - Received response from OpenAI API: Great, I will now look for trials with these characteristics.

- Age: 50
- Gender: Female
- Medical Condition: Triple Negative Breast Cancer
- Location: Los Angeles, CA
- Debug Grid: [(34.0522, -118.2437)]
I will now search for trials that match this pr...
<span style='color:#3357FF'>[medical]</span> 2024-08-03 12:22:05,361 - INFO - medical/medical_assistant.py - Validating Assistant Output
<span style='color:#3357FF'>[medical]</span> 2024-08-03 12:22:05,362 - INFO - medical/validator_utils.py - Validating field Age: 50
<span style='color:#3357FF'>[medical]</span> 2024-08-03 12:22:05,362 - INFO - medical/validator_utils.py - Validating field Gender: Female
<span style='color:#3357FF'>[medical]</span> 2024-08-03 12:22:05,362 - INFO - medical/validator_utils.py - Validating field Medical Condition: Triple Negative Breast Cancer
<span style='color:#3357FF'>[medical]</span> 2024-08-03 12:22:05,362 - INFO - medical/validator_utils.py - Validating field Location: Los Angeles, CA
<span style='color:#3357FF'>[medical]</span> 2024-08-03 12:22:05,362 - INFO - medical/validator_utils.py - Validating Debug Grid - Latitude: 34.0522, Longitude: -118.2437
<span style='color:#3357FF'>[medical]</span> 2024-08-03 12:22:05,362 - INFO - medical/medical_assistant.py - User details collected successfully
<span style='color:#3357FF'>[medical]</span> 2024-08-03 12:22:05,363 - INFO - medical/medical_assistant.py - Executing API query with input_file: API_actions/input.json, output_file: API_response/output_final_big.json
<span style='color:#8D33FF'>[API_actions]</span> 2024-08-03 12:22:05,363 - INFO - API_actions/async_caller_program.py - call_api_query called with input_file: API_actions/input.json, output_file: API_response/output_final_big.json
<span style='color:#8D33FF'>[API_actions]</span> 2024-08-03 12:22:05,363 - INFO - API_actions/async_caller_program.py - simulate_api_query called.
<span style='color:#8D33FF'>[API_actions]</span> 2024-08-03 12:22:05,363 - DEBUG - API_actions/async_caller_program.py - Simulating API query processing for input file: API_actions/input.json
<span style='color:#8D33FF'>[API_actions]</span> 2024-08-03 12:22:05,363 - DEBUG - API_actions/async_caller_program.py - Loaded input data: {
  "Age": "50",
  "Gender": "Female",
  "Medical Condition": "Triple Negative Breast Cancer",
  "Location": "Los Angeles, CA",
  "Latitude": "34.0522",
  "Longitude": "-118.2437"
}
<span style='color:#8D33FF'>[API_actions]</span> 2024-08-03 12:22:05,363 - DEBUG - API_actions/async_caller_program.py - Simulated API response data: {
  "status": "success",
  "data": {
    "message": "This is a simulated API response",
    "input_received": {
      "Age": "50",
      "Gender": "Female",
      "Medical Condition": "Triple Negative Breast Cancer",
      "Location": "Los Angeles, C...
<span style='color:#8D33FF'>[API_actions]</span> 2024-08-03 12:22:05,364 - INFO - API_actions/async_caller_program.py - API response successfully written to 'API_response/output_final_big.json'
<span style='color:#8D33FF'>[API_actions]</span> 2024-08-03 12:22:05,365 - DEBUG - API_actions/async_caller_program.py - API response data written: {
  "status": "success",
  "data": {
    "message": "This is a simulated API response",
    "input_received": {
      "Age": "50",
      "Gender": "Female",
      "Medical Condition": "Triple Negative Breast Cancer",
      "Location": "Los Angeles, CA"...
<span style='color:#8D33FF'>[API_actions]</span> 2024-08-03 12:22:05,365 - INFO - API_actions/async_caller_program.py - API query simulation completed successfully.
<span style='color:#3357FF'>[medical]</span> 2024-08-03 12:22:05,365 - ERROR - medical/medical_assistant.py - Error executing API query: cannot unpack non-iterable NoneType object
<span style='color:#3357FF'>[medical]</span> 2024-08-03 12:22:05,365 - INFO - medical/medical_assistant.py - Modified super response: Great, I will now look for trials with these characteristics.

- Age: 50
- Gender: Female
- Medical Condition: Triple Negative Breast Cancer
- Location: Los Angeles, CA
- Debug Grid: [(34.0522, -118.2437)]
I will now search for trials that match this profile.
Error ...
<span style='color:#FFC733'>[router]</span> 2024-08-03 12:22:05,365 - INFO - router/conversation_router.py - Response from MedicalAssistant: Great, I will now look for trials with these characteristics.

- Age: 50
- Gender: Female
- Medical Condition: Triple Negative Breast Cancer
- Location: Los Angeles, CA
- Debug Grid: [(34.0522, -118.2437)]
I will now search for trials that match this profile....
<span style='color:#FFC733'>[router]</span> 2024-08-03 12:22:05,366 - INFO - router/conversation_router.py - Assistant response after routing: Great, I will now look for trials with these characteristics.

- Age: 50
- Gender: Female
- Medical Condition: Triple Negative Breast Cancer
- Location: Los Angeles, CA
- Debug Grid: [(34.0522, -118.2437)]
I will now search for trials that match this profil...
<span style='color:#FF5733'>[ai_switcher]</span> 2024-08-03 12:22:05,366 - INFO - ai_switcher/main.py - User input: y
<span style='color:#FF5733'>[ai_switcher]</span> 2024-08-03 12:22:05,366 - INFO - ai_switcher/main.py - Assistant response: Great, I will now look for trials with these characteristics.

- Age: 50
- Gender: Female
- Medical Condition: Triple Negative Breast Cancer
- Location: Los Angeles, CA
- Debug Grid: [(34.0522, -118.2437)]
I will now search for trials that match this profile.
Error executing ...
